## Docker 란? 

컨테이너 기반의 가상화 도구.
도커는 컨테이너 기술에 여러 기능을 추가한 **오픈소스 프로젝트**입니다.

* 컨테이너 - 사전적
    * 어떤 물체를 격리하는 공간
    * 각각의 컨테이너는 **격리**된 상태로 다른 컨테이너들과 분리됨
* 컨테이너 - 기술적
    * 이미지의 목적에 따라 생성되는 **프로세스 단위의 격리 환경**
    * 프로세스의 life cycle 관리

#### 컨테이너의 원리
Spring Boot 프로젝트 1개, Ruby On Rails 프로젝트 한개가 같은 Docker Engine 위에있다고 가정하겠습니다. 
컨테이너가 실행되며 각 프로세스가 실행됩니다. 프로세스는 각자 필요한 자원들을 할당받고 프로세스를 실행합니다. 이때 Kernel을 통해 자원을 가져옵니다.
프로세스는 OS위에서 실행 됩니다 이를 Host라고 표현 하겠습니다
그렇다면 Host 입장에서는 컨테이너를 어떻게 바라볼까요?

컨테이너는 하나의 프로세스의 생명주기 관리하며 실행하는 하나의 프로세스라고 말할 수 있습니다. 즉 Spring Boot어플리케이션 프로세스를 직접 실행하나 컨테이너로 실행하나 Host 입장에서는 똑같은 프로세스로 봅니다.

반대로 컨테이너를 통해 프로세스에 어떤 설정을 하든 Host에 끼치는 영향은 없습니다
이를 통해 프로세스를 컨테이너 단위로 바라볼 수 있고 프로세스의 관리, 확장이 용이해집니다.

그럼 컨테이너는 어떻게 관리할까요?
바로 Docker Engine을 통해 컨테이너를 관리할 수 있습니다.
Docker Engine은 유저가 컨테이너를 쉽게 사용할 수 있게 하는 주체입니다.

컨테이너의 라이프 사이클을 관리하는 - 컨테이너 관리
컨테이너를 생성하기 위한 - 이미지 관리
컨테이너의 데이터를 저장하기 위한 저장소 역할을 하는 - 볼륨 관리
컨테이너의 접속을 관리하는 - 네트워크 관리
로 나눠집니다.

#### Docker의 Workflow
![](/img/docker.png)

* 사용자는 docker 명령어로 Docker Engine에게 명령어를 보냅니다
* 명령을 전달 받은 Docker Client는 `/var/run/docker.sock`에 위치한 Unix 소켓을 통해 Docker Demon의 API를 호출합니다.
* Docker Demon은 명령에 해당하는 작업을 수행하며 수행결과를 Docker Client에게 반하며 사용자에게 결과를 출력합니다.

<br>

* Docker Demon
dorkerd는 컨테이너를 생성하고 실행하며 이미지를 관리하는 주체입니다,
Docker Process가 실행되어 입력을 받을 준비가 된 상태를 Docker Demon이라 불러요.


